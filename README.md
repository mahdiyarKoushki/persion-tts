# Persian TTS with Microsoft Edge (edge-tts)

ฺฉ ูพุฑูฺู ุณุงุฏู ู ูุฏุฑุชููุฏ ุจุฑุง ุชุจุฏู **ูุชู ุจู ฺฏูุชุงุฑ (Text-to-Speech)** ูุงุฑุณ ุจุง **ููุฌู ุงุฑุงู ฺฉุงููุงู ุทุจุน**ุ ุจุฑ ูพุงู ุณุฑูุณ ุฑุงฺฏุงู Microsoft Edge TTS (ุตุฏุงูุง Neural).

- ุตุฏุง ุจุณุงุฑ ุฑูุงู ู ุทุจุน (FaridNeural ูุฑุฏ / DilaraNeural ุฒู)
- ฺฉุงููุงู **ุฑุงฺฏุงู** ู ุจุฏูู ูุงุฒ ุจู ุซุจุชโูุงู ุง API Key
- ูพุดุชุจุงู ุนุงู ุงุฒ ุฒุจุงู ูุงุฑุณ (fa-IR)
- ููุงุณุจ ุจุฑุง ูพุฑูฺูโูุง ุดุฎุตุ ุณุงุฎุช ูพุงุฏฺฉุณุชุ ูุฏูุ ุฑุจุงุช ุชูฺฏุฑุงู/ุฏุณฺฉูุฑุฏุ ฺฉุชุงุจ ุตูุช ู ...

## ูฺฺฏโูุง

- ฺฉูุช ุตุฏุง Neural ูุงฺฉุฑูุณุงูุช (ฺฉ ุงุฒ ุจูุชุฑูโูุง ุจุฑุง ูุงุฑุณ)
- ุจุฏูู ูุญุฏูุฏุช ุฑุณู (ุจุฑุง ุงุณุชูุงุฏู ุดุฎุต ุนููุงู ูุงูุญุฏูุฏ)
- ุชููุฏ ูุงู MP3 ู ูพุฎุด ุฎูุฏฺฉุงุฑ
- ุญู ูุดฺฉูุงุช ุฑุงุฌ SSL certificate ุฏุฑ ููุฏูุฒ
- ูพุดุชุจุงู ุงุฒ SSML ุจุฑุง ฺฉูุชุฑู ุณุฑุนุชุ ุจููุฏุ ูฺฉุซ ู ...
- ฺฉุฏ ุณุงุฏู ู ูุงุจู ฺฏุณุชุฑุด

## ูพุดโูุงุฒูุง

- **Python 3.8 ุง ุจุงูุงุชุฑ** (ุชูุตู: 3.11 ุง 3.12)
- ุงุชุตุงู ุงูุชุฑูุช (ุจุฑุง ุงุฑุชุจุงุท ุจุง ุณุฑูุฑ Microsoft)
- ุณุณุชู ุนุงูู: ููุฏูุฒุ ูฺฉุ ูููฺฉุณ (ุชุณุช ุดุฏู ุฑู ููุฏูุฒ)

## ูุตุจ ูุงุจุณุชฺฏโูุง

ุงุจุชุฏุง ูุทูุฆู ุดูุฏ pip ฺฉุงุฑ ูโฺฉูุฏ:

```bash
# ุงฺฏุฑ pip ุดูุงุฎุชู ูุดุฏุ ุงุฒ ุงู ุฏุณุชูุฑูุง ุงุณุชูุงุฏู ฺฉูุฏ:
python -m pip install --upgrade pip
# ุง
py -m pip install --upgrade pip
ุณูพุณ ูพฺฉุฌโูุง ููุฑุฏ ูุงุฒ ุฑุง ูุตุจ ฺฉูุฏ:
Bashpip install edge-tts playsound==1.2.2 certifi aiohttp
ฺุฑุง playsound==1.2.2ุ
ูุณุฎูโูุง ุฌุฏุฏุชุฑ (ฑ.ณ+) ุฑู ููุฏูุฒ ุงุฑูุฑ "Error 259" ูโุฏููุฏ. ูุณุฎู ฑ.ฒ.ฒ ูพุงุฏุงุฑ ุงุณุช.
ูุงู ุงุตู: tts.py
Pythonimport asyncio
import edge_tts
from playsound import playsound
import certifi
import ssl
from aiohttp import TCPConnector

async def speak(
    text: str,
    voice: str = "fa-IR-FaridNeural",
    output_file: str = "output.mp3",
    play: bool = True
):
    """
    ุชููุฏ ุตุฏุง ุจุง edge-tts ู ูพุฎุด ุงุฎุชุงุฑ
    
    Parameters:
    - text: ูุชู ูุงุฑุณ ุจุฑุง ุฎูุงูุฏู
    - voice: ูุงู ุตุฏุง (ูพุดโูุฑุถ: fa-IR-FaridNeural)
      ฺฏุฒููโูุง ูุญุจูุจ:
        - fa-IR-FaridNeural   โ ุตุฏุง ูุฑุฏ ุงุฑุงู
        - fa-IR-DilaraNeural  โ ุตุฏุง ุฒู ุงุฑุงู
    - output_file: ูุณุฑ ูุงู ุฎุฑูุฌ mp3
    - play: ุขุง ุตุฏุง ุจุนุฏ ุงุฒ ุชููุฏ ูพุฎุด ุดูุฏ (True/False)
    """
    # ุญู ูุดฺฉู SSL certificate ุฏุฑ ููุฏูุฒ
    ssl_context = ssl.create_default_context(cafile=certifi.where())
    connector = TCPConnector(ssl=ssl_context)
    
    communicate = edge_tts.Communicate(
        text,
        voice,
        connector=connector
    )
    
    await communicate.save(output_file)
    print(f"ูุงู ุตูุช ุจุง ููููุช ุฏุฑ '{output_file}' ุฐุฎุฑู ุดุฏ.")
    
    if play:
        try:
            playsound(output_file)
        except Exception as e:
            print(f"ุฎุทุง ุฏุฑ ูพุฎุด ุตุฏุง: {e}")
            print("ูโุชูุงูุฏ ูุงู ุฑุง ุฏุณุช ุจุงุฒ ฺฉูุฏ.")

# ูุซุงูโูุง ุงุณุชูุงุฏู
if __name__ == "__main__":
    # ูุซุงู ุณุงุฏู
    text = "ุณูุงู! ุงู ฺฉ ุชุณุช ุตุฏุง ุจุณุงุฑ ุทุจุน ุจุง ููุฌู ุงุฑุงู ุงุณุช. ฺุทูุฑ ุจู ูุธุฑ ูโุฑุณุฏุ"
    asyncio.run(speak(text))

    # ูุซุงู ุจุง ุตุฏุง ุฒู ู ูุงู ูุชูุงูุช
    # asyncio.run(speak("ุณูุงู ุฏูุณุชุงู!", voice="fa-IR-DilaraNeural", output_file="woman_voice.mp3"))

    # ูุซุงู ุจุง SSML
    # ssml_text = """
    # <speak version="1.0" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="fa-IR">
    #   <prosody rate="medium" volume="medium">
    #     ุณูุงู ุฏูุง!
    #   </prosody>
    #   <break time="800ms"/>
    #   <prosody rate="slow">ุงู ูุณูุช ุขูุณุชูโุชุฑ ุงุณุช.</prosody>
    # </speak>
    # """
    # asyncio.run(speak(ssml_text))
ูุญูู ุงุฌุฑุง

ูุงู tts.py ุฑุง ุฏุฑ ฺฉ ูพูุดู ุฐุฎุฑู ฺฉูุฏ.
ุชุฑููุงู (CMD ุง PowerShell) ุฑุง ุจุงุฒ ฺฉูุฏ ู ุจู ูพูุดู ุจุฑูุฏ.
ุงุฌุฑุง ฺฉูุฏ:

Bashpython tts.py
# ุง ุงฺฏุฑ python ุดูุงุฎุชู ูุดุฏ:
py tts.py
ูุณุช ุตุฏุงูุง ููุฌูุฏ
ุจุฑุง ุฏุฏู ุชูุงู ุตุฏุงูุง ูพุดุชุจุงูโุดุฏู:
Bashedge-tts --list-voices
ุตุฏุงูุง ูุงุฑุณ ูุญุจูุจ:




















ฺฉุฏ ุตุฏุงุฌูุณุชุชูุถุญุงุชfa-IR-FaridNeuralูุฑุฏุตุฏุง ุทุจุน ูุฑุฏ ุงุฑุงูfa-IR-DilaraNeuralุฒูุตุฏุง ุทุจุน ุฒู ุงุฑุงู
ุณูุงุฑุดโุณุงุฒ ุจุง SSML
ุจุฑุง ฺฉูุชุฑู ุฏููโุชุฑ ุตุฏุง (ุณุฑุนุชุ ุจููุฏุ ูฺฉุซุ ุชุฃฺฉุฏ ู ...) ุงุฒ ูุฑูุช SSML ุงุณุชูุงุฏู ฺฉูุฏ:
XML<speak version="1.0" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="fa-IR">
  <prosody rate="medium" pitch="medium" volume="loud">
    ุณูุงู! ุงู ูุชู ุจุง ุตุฏุง ุจููุฏ ุฎูุงูุฏู ูโุดูุฏ.
  </prosody>
  <break time="1000ms"/> <!-- ูฺฉุซ ฑ ุซุงูู -->
  <prosody rate="x-slow">ุงู ูุณูุช ุฎู ุขูุณุชู ุงุณุช.</prosody>
</speak>
ูุดฺฉูุงุช ุฑุงุฌ ู ุฑุงูโุญูโูุง

































ูุดฺฉูุฑุงูโุญูpip ุดูุงุฎุชู ููโุดูุฏุงุฒ python -m pip ุง py -m pip ุงุณุชูุงุฏู ฺฉูุฏุงุฑูุฑ SSL: CERTIFICATE_VERIFY_FAILEDpip install --upgrade certifi ู ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ ุจุง certifiุงุฑูุฑ playsound (Error 259)pip install playsound==1.2.2ุตุฏุง ูพุฎุด ููโุดูุฏูุงู mp3 ุฑุง ุจุง VLC ุง ูพุฎุดโฺฉููุฏู ูพุดโูุฑุถ ุจุงุฒ ฺฉูุฏ ุง ุงุฒ os.system("start output.mp3") ุงุณุชูุงุฏู ฺฉูุฏฺฉูุช ุตุฏุง ูพุงููุทูุฆู ุดูุฏ voice ุฏุฑุณุช ุงูุชุฎุงุจ ุดุฏู (FaridNeural ุง DilaraNeural)ุงุฑูุฑ asyncio ุง edge-ttspip install --upgrade edge-tts
ูุญุฏูุฏุชโูุง ู ูฺฉุงุช ููู

ุฑุงฺฏุงู ู ุจุฏูู ูุญุฏูุฏุช ุฑุณู: ุงูุง ุณุฑูุณ ุบุฑุฑุณู ุงุณุช ู ููฺฉู ุงุณุช ุฏุฑ ุขูุฏู ุชุบุฑ ฺฉูุฏ.
ูุงุฒ ุจู ุงูุชุฑูุช: ุขููุงู ฺฉุงุฑ ููโฺฉูุฏ.
ุงุณุชูุงุฏู ุชุฌุงุฑ/ุจุฒุฑฺฏ: ุงฺฏุฑ ูพุฑูฺูโุชุงู ุจุฒุฑฺฏ ุงุณุชุ ุจูุชุฑ ุงุณุช ุจู API ุฑุณู Azure TTS ููุงุฌุฑุช ฺฉูุฏ (tier ุฑุงฺฏุงู ุฏุงุฑุฏ ุงูุง ูุญุฏูุฏุชุฑ).

ุฌุงฺฏุฒูโูุง ุขููุงู (ุงุฎุชุงุฑ)
ุงฺฏุฑ ุจู ุงูุชุฑูุช ุฏุณุชุฑุณ ูุฏุงุฑุฏ:

piper-tts ุจุง ูุฏู ูุงุฑุณ: fa_IR-amir-medium
coqui-ai TTS ุจุง ูุฏูโูุง VITS ูุงุฑุณ
Mozilla TTS (ูุฏูโุชุฑ ุงูุง ูุงุจู ุงุณุชูุงุฏู)

ูุงุณูุณ
ุงู ูพุฑูฺู ุชุญุช MIT License ููุชุดุฑ ุดุฏู ุงุณุช.
ูโุชูุงูุฏ ุขุฒุงุฏุงูู ุงุณุชูุงุฏูุ ุชุบุฑ ู ุชูุฒุน ฺฉูุฏ (ุจุง ุฐฺฉุฑ ููุจุน).
ูุดุงุฑฺฉุช ู ูพุดููุงุฏูุง
ูุฑฺฏููู ุจูุจูุฏ (ุงุถุงูู ฺฉุฑุฏู CLIุ GUI ุณุงุฏูุ ูพุดุชุจุงู ุงุฒ ูุณุช ูุชูโูุงุ ุฐุฎุฑู ุฏุฑ ูุฑูุชโูุง ุฏฺฏุฑุ ...) ุจุง Pull Request ูพุฐุฑูุชู ูโุดูุฏ!
ุณุงุฎุชู ุดุฏู ุจุง โค๏ธ ุจุฑุง ุฌุงูุนู ูุงุฑุณโุฒุจุงู
ูููู ุจุงุดุฏ! ๐
text---

ุงู ูุณุฎู ฺฉุงููโุชุฑุ ูุฑุชุจโุชุฑ ู ุญุฑููโุงโุชุฑ ุดุฏู.  
ููู ุชูุถุญุงุช ูุงุฒู ุจุฑุง ูุตุจุ ุงุฌุฑุงุ ุนุจโุงุจ ู ุณูุงุฑุดโุณุงุฒ ุฏุงุฎูุด ูุณุช ู ุจุฑุง GitHub ุจุณุงุฑ ููุงุณุจ ุงุณุช.

ุงฺฏุฑ ฺุฒ ุงุถุงูู ุง ฺฉู ูโุฎูุง (ูุซู ููฺฏูุ GIF ุฏููุ ููฺฉ ูุฏู ููููู ุตุฏุงุ ุง ุจุฎุด FAQ ุจุดุชุฑ)ุ ุจฺฏู ุชุง ุจุฑุงุช ูุฑุงุด ฺฉูู!#   p e r s i o n - t t s  
 